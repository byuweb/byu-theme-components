(function(template){'use strict';function evalInContext(string){return eval(string)}function getInputValue(a){var b=getInputElement(a,!0);return b?b.value:''}function getInputElement(a,b){for(var c=a.shadowRoot.querySelector('#search').assignedNodes({flatten:b}),d=0;d<c.length;d++)if('INPUT'===c[d].tagName)return c[d];return null}function getParentComponent(a){for(;!(a instanceof a);)a=a.host?a.host:a.parentNode;return a}function inputHandler(a){var b=a.target,c='byu-search'===b.tagName?b:getParentComponent(b);c.value=a.target.value}function formSubmitHandler(a){a&&a.preventDefault(),this.parentNode.host.search()}var store=new WeakMap;class a extends HTMLElement{static get observedAttributes(){return['placeholder','value']}attributeChangedCallback(b,c,d){'placeholder'===b?this.shadowRoot.querySelector('input').setAttribute('placeholder',d):'value'===b?store.set(this,getInputValue(this)):void 0}constructor(){super();// always call super first
let b=this.attachShadow({mode:'open'});b.innerHTML=template}connectedCallback(){var b=getInputElement(this,!0);b&&b.addEventListener('input',inputHandler),this.shadowRoot.querySelector('form').addEventListener('submit',formSubmitHandler),this.hasAttribute('value')&&(this.value=this.getAttribute('value'))}disconnectedCallback(){var b=getInputElement(this,!0);b&&b.removeEventListener('input',inputHandler),this.shadowRoot.querySelector('form').removeEventListener('submit',formSubmitHandler)}get value(){return store.get(this)}set value(b){store.set(this,''+b);var c=getInputElement(this,!0);return c&&(c.value=b),this}search(){if(this.hasAttribute('onsearch')&&evalInContext.call(this,this.getAttribute('onsearch')),this.hasAttribute('action')){var b=this.shadowRoot.querySelector('form'),c=this.value,d=this.getAttribute('action').toString().replace(/\$1/g,c);b.setAttribute('action',d),b.setAttribute('method',this.hasAttribute('method')?this.getAttribute('method'):'GET'),this.hasAttribute('target')&&b.setAttribute('target',this.getAttribute('target')),b.submit()}}}window.customElements.define('byu-search',a),window.ByuSearch=a})(`<!--
  ~  @license
  ~    Copyright 2016 Brigham Young University
  ~
  ~    Licensed under the Apache License, Version 2.0 (the "License");
  ~    you may not use this file except in compliance with the License.
  ~    You may obtain a copy of the License at
  ~
  ~        http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~    Unless required by applicable law or agreed to in writing, software
  ~    distributed under the License is distributed on an "AS IS" BASIS,
  ~    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~    See the License for the specific language governing permissions and
  ~    limitations under the License.
  --><link rel="stylesheet" href="../../bower_components/font-awesome/css/font-awesome.min.css"><style>/* FUSE */</style><form><div id="search-container"><slot id="search" name="search"><input type="search" placeholder="Search"></slot></div><button id="submit-button" type="submit"><span class="fa fa-search" aria-hidden="true"></span><div class="sr-only">Run Search</div></button></form>`);