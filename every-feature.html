<!DOCTYPE html>
<!--
  ~  @license
  ~    Copyright 2017 Brigham Young University
  ~
  ~    Licensed under the Apache License, Version 2.0 (the "License");
  ~    you may not use this file except in compliance with the License.
  ~    You may obtain a copy of the License at
  ~
  ~        http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~    Unless required by applicable law or agreed to in writing, software
  ~    distributed under the License is distributed on an "AS IS" BASIS,
  ~    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~    See the License for the specific language governing permissions and
  ~    limitations under the License.
  -->

<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Every Feature Demo</title>

    <script src="docs/load-components.js"></script>
    <script>
        (function () {
            window.addEventListener('load', function () {
                var name = document.createElement('a');
                name.href = "#user-info";
                name.setAttribute('slot', 'user-name');
                name.innerText = 'Cosmo2017';

                var ui = document.getElementById('user-info');

                if (!ui) return;
                ui.querySelector('a#sign-in').addEventListener('click', function () {
                    ui.appendChild(name);
                }, false);
                ui.querySelector('a#sign-out').addEventListener('click', function () {
                    ui.removeChild(name);
                }, false);
            }, false);
        })();
    </script>
    <style>
        html {
            height: 100vh;
        }

        body {
            min-height: 100vh;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
        }

        .page-content {
            flex-grow: 1;
            width: 100%;
            align-self: center;
            max-width: 900px;
        }
    </style>
    <link type="text/css" rel="stylesheet" href="//cloud.typography.com/75214/6517752/css/fonts.css" media="all"/>

    <template id="footer-col-contact">
        <byu-footer-column>
            <span slot="header">Contact</span>
            <p>
                BYU Speeches
                <br/> 701 East University Parkway
                <br/> Provo, Utah 84602
                <br/> 888-888-8888
            </p>
            <byu-footer-action-button>
                <a href="#give" slot="actiontext">GIVE to Speeches</a>
            </byu-footer-action-button>
        </byu-footer-column>
    </template>
    <template id="footer-col-affiliates">
        <byu-footer-column>
            <span slot="header">Affiliates</span>
            <a href="https://www.byui.edu">BYU-Idaho Speeches</a>
            <a href="https://www.byuh.edu">BYU-Hawaii Speeches</a>
            <a href="https://womensconference.byu.edu">Women's Conference</a>
            <a href="https://kennedy.byu.edu/lectures">Kennedy Center Lectures</a>
            <a href="https://wheatley.byu.edu/">Wheatley Institution</a>
        </byu-footer-column>
    </template>
    <template id="footer-col-related">
        <byu-footer-column>
            <span slot="header">Related Links</span>
            <a>LDS.org</a>
            <a>BYU Alumni</a>
            <a>BYU Today</a>
            <a>BYU Magazine</a>
        </byu-footer-column>
    </template>
    <template id="footer-col-social">
        <byu-footer-column>
            <span slot="header">Connect With Us</span>
            <a>Feedback</a>
            <a>Help</a>
            <div>
                <div>Follow BYU Speeches</div>
                <byu-social-media-links>
                    <a class="facebook" href="https://www.facebook.com">Facebook</a>
                    <a class="instagram" href="https://www.instagram.com">Insta</a>
                    <a class="twitter" href="https://www.twitter.com">Twitter</a>
                    <a class="gplus" href="https://plus.google.com">GPlus</a>
                    <a class="linkedin" href="https://www.linkedin.com">Linkedin</a>
                    <a class="youtube" href="https://www.youtube.com">YouTube</a>
                    <a class="rss" href="#">RSS</a>
                    <a class="snapchat" href="#">Snap</a>
                </byu-social-media-links>
            </div>
            <a>Subscribe</a>
        </byu-footer-column>
    </template>
    <template id="footer-col-extras">
        <byu-footer-column>
            <span slot="header">Extra Stuff</span>
            <a>Awesome Stuff</a>
            <a>Amazing Stuff</a>
            <a>Wonderful Stuff</a>
        </byu-footer-column>
    </template>

</head>

<body>
<byu-header mobile-max-width="700px" home-url="http://web.byu.edu" max-width="900px">
    <span slot="site-title">Component Demos</span>
    <span slot="site-sub-title">Sub-Title</span>
    <!--<span slot="site-title" class="subtitle">Every Single Feature</span>-->

    <a href="#action-1" slot="actions">Action 1</a>
    <a href="#action-2" slot="actions">Action 2</a>

    <byu-user-info slot="user" id="user-info">
        <a slot="login" id="sign-in" href="#login">Sign In</a>
        <a slot="logout" id="sign-out" href="#logout">Sign Out</a>
    </byu-user-info>

    <byu-menu slot="nav">
        <a href="docs/index.html">Main Docs</a>
        <a href="#nav1" class="current">Nav Item 1</a>
        <!--<a href="#nav2">Nav Item 2</a>-->
        <!--<a href="#nav3">Nav Item 3</a>-->
        <!--<a href="#nav4">Nav Item 4</a>-->
        <!--<a href="#nav5">Nav Item 5</a>-->
    </byu-menu>

</byu-header>
<article class="page-content">
    <h1>Hey there,</h1>
    <p>this is a big test of all of the features of the current BYU theme components.</p>
    <h3>Footer Column Control</h3>
    <div>
        <input id="fc-contact" checked type="checkbox" class="footer-column-control" data-template="contact"
               data-order="1">
        <label for="fc-contact">Contact</label>
    </div>
    <div>
        <input id="fc-affiliates" checked type="checkbox" class="footer-column-control" data-template="affiliates"
               data-order="2">
        <label for="fc-affiliates">Affiliates</label>
    </div>
    <div>
        <input id="fc-related" checked type="checkbox" class="footer-column-control" data-template="related"
               data-order="3">
        <label for="fc-related">Related</label>
    </div>
    <div>
        <input id="fc-social" checked type="checkbox" class="footer-column-control" data-template="social"
               data-order="4">
        <label for="fc-social">Social</label>
    </div>
    <div>
        <input id="fc-extras" type="checkbox" class="footer-column-control" data-template="extras"
               data-order="5">
        <label for="fc-extras">Extras</label>
    </div>

</article>
<byu-footer></byu-footer>

<script>
    document.addEventListener('WebComponentsReady', function(e) {
        console.log('WebComponentsReady', e);
    });

    setTimeout(
    function () {
        var footer = document.querySelector('byu-footer');
        var controls = document.querySelectorAll('input.footer-column-control');

        for (var i = 0, len = controls.length; i < len; i++) {
            var it = controls[i];
            it.addEventListener('change', function (e) {
                applyTemplateState(this);
            });
        }

        //Set up initial state
        controls.forEach(applyTemplateState);

        function applyTemplateState(input) {
            var name = input.dataset.template;
            var order = input.dataset.order;

            var cls = "__demo-added-" + name;

            var shouldShow = input.checked;

            var current = footer.querySelector('.' + cls);

            if (shouldShow) {
                if (current) return;

                var template = document.querySelector('template#footer-col-' + name);
                var clone = document.importNode(template.content, true);

                //Hooray for IE compatibility!  All of this COULD be solved with clone.firstChildElement....
                var kids = clone.childNodes;
                for (var i = 0, len = kids.length; i < len; i++) {
                    if (kids[i].nodeType === Node.ELEMENT_NODE) {
                        kids[i].classList.add(cls);
                        break;
                    }
                }

                footer.appendChild(clone);
            } else {
                if (!current) return;

                footer.removeChild(current);
            }
        }
        //This is a temporary hack to allow the polyfills to load until we can get them firing WebComponentsReady properly
    }, 2000);
</script>

</body>

</html>